!function(){let e,n,t,r,o,p,m,f;document.getElementById("gr-docs").innerHTML='<p id="invoice_msg"><i class="w3-xxxlarge fa fa-spin fa-spinner"></i></p><p id="btn_btf"></p><div id="upbtf" style="display:none;"></div><div id="data6"></div><div class="w3-row data1"></div><div class="data2" id="data2"></div><div class="w3-row data3"></div><div class="w3-row data4"></div><div class="data5"></div>';let g=new URLSearchParams(window.location.search),h="https://goodz.pages.dev/";t=g.get("utm_source");const b=document.currentScript;function w(e){let n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","\r\n":"<br>","\r":"<br>","\n":"<br>"};for(let t in n){let a=new RegExp(t,"g");e=e.replace(a,n[t])}return e}function _(e,n){let t=document.querySelectorAll("."+e);if(t){for(let e=0;e<t.length;e++)t[e].innerHTML=n;return!1}return!1}function y(e,n,t={}){let a=n;if("object"==typeof t&&Object.keys(t).length>0)for(const[e,n]of Object.entries(t))a[e]=n;const s=e.match(/\{([^}]*)\}/g);if(s)for(const n of s){const t=n.replace(/\{|\}/g,"");e=a.hasOwnProperty(t)?e.replace(new RegExp(n,"g"),a[t]):e.replace(new RegExp(n,"g"),"-")}return e}function v(g){if(200!=g.code)return console.log(g),document.getElementById("gr-docs").innerHTML=`<center><img src="${h}img/page-found-concept.png" class="w3-image"/></center>`,!1;if(!g.data.jsuser[2])return void alert("Addrz setting required");let b;document.getElementById("invoice_header").style.display="block",document.querySelector('link[href*="w3-theme"]')||E("https://www.w3schools.com/lib/w3-theme-"+g.data.jsuser[2][15]+".css"),g.data.jspro.hasOwnProperty("order_cod")&&parseFloat(g.data.jspro.order_cod)>0?b=y(w(g.data.jsuser[2][13]),g.data.jspro):(b=y(w(g.data.jsuser[2][12]),g.data.jspro,function(e){let n="";for(let t=0;t<e.length;t++)n+=`Bank : ${e[t].name_bank}<br>Nama : ${e[t].name_account}<br>No Rekening : <b>${e[t].no_rek}</b><br><br>`;return{bank:n.replace(/<br>(<br>)*$/,"")}}(g.data.jsuser[0])),document.getElementById("sender_name").value=g.data.jspro.name,document.getElementById("bankprint").innerHTML=function(e){let n='<label>Bank <span class="w3-text-red">*</span></label><p>';for(let t in e)n+=`<label for="bof${t}" class="lbanks w3-round w3-hover-theme w3-tag w3-theme-l1" id="span_bof${t}"><input class="" type="radio" name="fields[bank_account]" value="${e[t].name_bank}" id="bof${t}" style="z-index: -1;opacity: 0;position: absolute;" required>${e[t].name_bank}</label> `;return n+="</p>",n}(g.data.jsuser[0]),function(){let e=document.querySelectorAll('input[type="radio"][name="fields[bank_account]"]');if(e.length>0){function n(){let e=document.getElementsByClassName("lbanks");for(i=0;i<e.length;i++)e[i].className=e[i].className.replace("w3-padding w3-card w3-theme","w3-tag w3-theme-l1")}e.forEach((function(e){e.addEventListener("change",(function(e){n();const t=document.getElementById("span_"+e.target.id);t.className=t.className.replace("w3-tag w3-theme-l1","w3-padding w3-card w3-theme")}))}))}}(),document.getElementById("udata").innerHTML=function(e,n,t){return`<input type="hidden" name="udata[users]" value="${e}">\n    <input type="hidden" name="udata[autores]" value="${n}">\n    <input type="hidden" name="src" id="source" value="${t||""}">`}(n,g.data.jsuser[2][14],t),r=g.data.jsendpo[0],o=g.data.jsuser[1][0],p=g.data.jsuser[2][16]?g.data.jsuser[2][16]:g.data.jsuser[1][1]),document.getElementById("invoice_msg").innerHTML=b,g.data.jsuser[2][17]&&_("shop_brand",g.data.jsuser[2][17]+"<br>"),g.data.jsuser[2][18]&&_("shop_tagline","<br>"+g.data.jsuser[2][18]),g.data.jsuser[2][19]&&_("shop_phone","&#9742; "+g.data.jsuser[2][19]+"<br>"),g.data.jsuser[2][20]&&_("shop_email","&#9993; "+g.data.jsuser[2][20]+"<br>"),g.data.jsuser[2][21]&&_("shop_address","&#8962; "+g.data.jsuser[2][21]),g.data.jsuser[2][1]&&function(){const e=document.createElement("div");e.className="w3-half",e.innerHTML='<p><b>Rincian Order</b></p>\n      OrderID : #<span class="grid"></span><br />\n      Date : <span class="date"></span><br/>\n      Pembayaran : <span class="payment_method"></span>',document.querySelector(".data1").appendChild(e)}(),g.data.jsuser[2][2]&&function(){const e=document.createElement("div");e.className="w3-half",e.innerHTML='<p><b>Penerima</b></p>\n      Nama : <span class="name"></span><br/>\n      Hp : <span class="phone"></span><br/>\n      Email : <span class="email"></span><br/>\n      Kota : <span class="city"></span><br/>\n      Alamat : <span class="address"></span>',document.querySelector(".data1").appendChild(e)}(),g.data.jsuser[2][3]&&(document.getElementById("data2").innerHTML='<p><b>Detail Order</b></p>\n     <div class="w3-border w3-border-theme">\n     <div class="w3-container w3-cell">\n       <p><img src="https://media.tenor.com/je-huTL1vwgAAAAj/loading-buffering.gif" class="product_image" width="100px"/></p>\n     </div>\n     <div class="w3-container w3-cell">\n     <p>\n     <b><span class="product_name"></span></b><br/>\n     <span class="w3-small">Variation: <span class="product_order_variation"></span></span><br/>\n     Weight: <span class="product_weight"></span><br/>\n     Price : <s><span class="product_price_normal"></span></s> <b><span class="product_price"></span></b><br/>\n     Quanitity: <span class="product_order_qty"></span><br/>\n     Total : <span class="product_order_total"></span>\n     </p>\n     </div> \n    </div>'),g.data.jsuser[2][4]&&function(){const e=document.createElement("div");e.className="w3-half",e.innerHTML='<p><b>Diskon Harga</b></p>\n    Kode kupon : <span class="coupon_price_code"></span><br/>\n    Potongan Harga : <span class="coupon_price_value"></span><br/>\n    Keterangan : <span class="coupon_price_desc"></span><br/>\n    Total setelah diskon : <span class="product_order_total_after_discount"></span>',document.querySelector(".data3").appendChild(e)}(),g.data.jsuser[2][5]&&function(){const e=document.createElement("div");e.className="w3-half",e.innerHTML='<p><b>Pengiriman</b></p>\n      Ekspedisi : <span class="expedition_name"></span><br/>\n      Layanan : <span class="expedition_service"></span> (<span class="expedition_description"></span>)<br/>\n      Ongkir : <span class="expedition_cost"></span> (<span class="product_order_qty"></span> pc : <span class="product_weight_total"></span> gram)<br/>\n      Estimasi : <span class="expedition_etd"></span>\n      <span style="clear: both;"></span>',document.querySelector(".data3").appendChild(e)}(),g.data.jsuser[2][6]&&function(){const e=document.createElement("div");e.className="w3-half",e.innerHTML='<p><b>Diskon Pengiriman</b></p>\n      Kode kupon : <span class="coupon_ship_code"></span><br/>\n      Potongan Ongkir : <span class="coupon_ship_value"></span><br/>\n      Keterangan : <span class="coupon_ship_desc"></span><br/>\n      Ongkir setelah diskon : <span class="expedition_cost_after_discount"></span>',document.querySelector(".data4").appendChild(e)}(),g.data.jsuser[2][7]&&function(){const e=document.createElement("div");e.className="w3-half",e.innerHTML='<p><b>COD &amp; Asuransi</b></p>\n      Biaya COD : <span class="order_cod"></span><br/>\n      Biaya Asuransi : <span class="order_insurance"></span>\n    <div style="clear: both;"></div>',document.querySelector(".data4").appendChild(e)}(),g.data.jsuser[2][8]&&function(){const e=document.createElement("div");e.className="w3-half",e.innerHTML='<p><b>Grand total : <span class="product_order_total_final"></span></b></p>',document.querySelector(".data5").appendChild(e)}(),g.data.jsuser[2][9]&&(document.getElementById("data6").innerHTML="<p></p>"+function(e){const n=e.product_order_qty?" x "+e.product_order_qty+" pc":"",t=e.product_price_normal?`<s>${e.product_price_normal}</s> `:"";let a='<div class="w3-responsive"><table class="w3-table w3-border-theme w3-border">\n      <tr class="w3-theme-l1">\n      <th>Produk</th>\n      <th>Harga</th>\n      <th class="w3-right-align">Total</th>\n      </tr>';return a+=`<tr>\n          <td>${e.product_name+n}</td>\n          <td>${t+e.product_price}</td>\n          <td class="w3-right-align">${e.product_order_total}</td>\n      </tr>`,e.coupon_price_value&&(a+=`<tr>\n          <td colspan="1"></td>\n          <td>Diskon</td>\n          <td class="w3-right-align">-${e.coupon_price_value}</td>\n      </tr>`),e.expedition_cost&&(a+=`<tr>\n            <td colspan="1"></td>\n            <td>Ongkir</td>\n            <td class="w3-right-align">${e.expedition_cost}</td>\n        </tr>`),e.coupon_ship_value&&(a+=`<tr>\n            <td colspan="1"></td>\n            <td>Diskon Ongkir</td>\n            <td class="w3-right-align">-${e.coupon_ship_value}</td>\n        </tr>`),e.order_cod&&parseFloat(e.order_cod)>0&&(a+=`<tr>\n            <td colspan="1"></td>\n            <td>COD</td>\n            <td class="w3-right-align">${e.order_cod}</td>\n        </tr>`),e.order_insurance&&(a+=`<tr>\n            <td colspan="1"></td>\n            <td>Asuransi</td>\n            <td class="w3-right-align">${e.order_insurance}</td>\n        </tr>`),a+=`<tr>\n          <td colspan="1"></td>\n          <td>Total Akhir</td>\n          <td class="w3-right-align"><b>${e.product_order_total_final}</b></td>\n      </tr>\n      </table></div>`,a}(g.data.jspro)+"<p></p>");let v="";if(_("grid",e),g.data.jspro)for(const e in g.data.jspro){if("product_image"==e){document.querySelectorAll("."+e).forEach((function(n){n.setAttribute("src",g.data.jspro[e])}))}else _(e,g.data.jspro[e]);"name"==e?v+=`<input type="hidden" name="name" value="${g.data.jspro.name}">`:"phone"==e?v+=`<input type="hidden" name="phone" value="${g.data.jspro.phone}">`:"bank"!=e&&"date"!=e&&"addrz_id"!=e&&g.data.jspro[e]&&(v+=`<input type="hidden" name="fields[${e}]" value="${g.data.jspro[e]}">`)}if(document.getElementById("getResult").innerHTML=v,g.data.jsuser[2]&&g.data.jsuser[2][0])if(g.data.jspro.hasOwnProperty("order_cod")&&parseFloat(g.data.jspro.order_cod)>0);else{const e=g.data.jsuser[2][10]?g.data.jsuser[2][10]:"KONFIRMASI DISINI";document.getElementById("btn_btf").innerHTML=`<a href="javascript:void(0)" id="showformbtf" class="w3-button w3-theme-d1 w3-round w3-large w3-block w3-card w3-shine-effect">${w(e)}</a>`,g.data.jsuser[2][11]&&(document.getElementById("reg_btn").innerHTML=w(g.data.jsuser[2][11])),setTimeout((()=>{document.getElementById("showformbtf").addEventListener("click",(function(){!function(e,n="",t="",a){document.getElementById(e).style.display="block",n&&t&&(document.getElementById(n).innerHTML=t),n&&a&&document.getElementById(n).remove(),"function"==typeof m&&(m(),console.log("tracked"))}("upbtf","showformbtf","",!0)})),document.getElementById("file_btf").addEventListener("change",(function(){!function(){const e=document.getElementById("file_btf"),n=e.files[0];if(!n)return void console.error("No file selected.");if(!function(e){return["image/jpeg","image/png","image/gif","image/jfif"].includes(e.type)}(n))return"undefined"!=typeof swal?swal("Whoops... !","Only image jpg, png, jpeg allow","error"):alert("Only image jpg, png, jpeg allow"),void console.error("The selected file is not an image.");const t=document.getElementById("reg_btn");t.disabled=!0,e.disabled=!0;const a=`https://api.cloudinary.com/v1_1/${o}/image/upload`,s=new FormData;s.append("file",n),s.append("upload_preset",p),fetch(a,{method:"POST",body:s}).then((e=>{if(!e.ok)throw new Error("Error uploading image to Cloud, unknown reason");return e.json()})).then((n=>{document.getElementById("upsuccess").innerHTML=`<img src="${n.secure_url}" width="200px"/>`,document.getElementById("payment_proof").value=n.secure_url,e.remove(),t.disabled=!1})).catch((n=>{t.disabled=!1,e.disabled=!1,"undefined"!=typeof swal?swal("Whoops... !",n.message,"error"):alert(n.message),console.error("An error occurred:",n)}))}()}))}),100)}!0===g.data.jsuser[3].fb.track&&g.data.jsuser[3].fb.ids&&g.data.jsuser[3].fb.ids.length>0&&function(e,n,t=""){a=window,s=document,l="script",a.fbq||(d=a.fbq=function(){d.callMethod?d.callMethod.apply(d,arguments):d.queue.push(arguments)},a._fbq||(a._fbq=d),d.push=d,d.loaded=!0,d.version="2.0",d.queue=[],(c=s.createElement(l)).async=!0,c.src="https://connect.facebook.net/en_US/fbevents.js",(u=s.getElementsByTagName(l)[0]).parentNode.insertBefore(c,u)),n.ids.forEach((function(e){fbq("init",e)})),e?(n.events[2]&&(m=function(){fbq("track",n.events[0],{source:"gr invoice product: "+t,version:"3"})}),n.events[3]&&(f=function(){fbq("track",n.events[1],{source:"gr invoice product: "+t,version:"3"})})):n.events[3]&&(f=function(){fbq("track",n.events[1],{source:"gr invoice product: "+t,version:"3"})})}(!0,g.data.jsuser[3].fb,g.data.jspro.product_name?g.data.jspro.product_name:"")}e=g.get("id"),n=b.getAttribute("grus"),n||(n=g.get("us"),h=""),document.title="Invoice #"+e,document.getElementById("upbtf").innerHTML='<div class="w3-container w3-card-4">  \n      <form id="form-gr">\n      <div class="w3-section">\n      <label for="file_btf">Bukti Transfer <span class="w3-text-red">*</span></label>\n      <div id="upsuccess"></div>\n      <input type="file" id="file_btf" required/>\n      </div>\n      <div class="w3-section">\n      <label for="sender_name">Nama Pengirim <span class="w3-text-red">*</span></label>\n      <input type="text" class="w3-input w3-border" id="sender_name" name="fields[sender_name]" value="" placeholder="Nama Pengirim Transfer" required>\n      </div>\n      <input type="hidden" id="payment_proof" name="fields[payment_proof]" readonly/>\n      <div class="w3-section" id="bankprint"></div><div id="getResult"></div><div id="udata"></div>\n      \n      <button type="submit" id="reg_btn" class="w3-button w3-theme-d1 w3-block w3-hover-theme w3-card w3-round w3-xlarge w3-shine-effect">Bayar Sekarang</button>\n      <input type="hidden" name="proof_form" value="1" readonly required>\n      <p class="w3-small" id="dev-creator">Powered by goodresponse</p>\n      </form>\n      </div>',n&&e?function(e,n){return fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+n}}).then((e=>e.json())).then((e=>e)).catch((e=>{throw e}))}("https://api.goodz.workers.dev/invoice/"+n+"/"+e,n).then((e=>v(e))).catch((e=>console.log("Error:",e))):(document.getElementById("gr-docs").innerHTML=`<center><img src="${h}img/page-found-concept.png" class="w3-image"/></center>`,console.log("Kredensial grus, grid, gram diperlukan"));let j=document.getElementById("form-gr");function E(e){const n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,n.onerror=()=>{console.error(`Failed to load stylesheet: ${e}`)},document.head.appendChild(n)}j&&j.addEventListener("submit",(function(e){if(e.preventDefault(),"undefined"!=typeof customScript){const e=customScript();if(!0!==e)return console.log(e),"undefined"!=typeof swal?(swal("Whoops... !",e,"error"),!1):(alert(e),!1)}if(document.getElementById("file_btf"))return"undefined"!=typeof swal?(swal("Whoops... !","Upload bukti transfer lagi","error"),!1):(alert("Upload bukti transfer lagi"),!1);const t=document.getElementById("reg_btn");t.innerHTML='Loading.. <i class="fa fa-circle-o-notch fa-spin"></i>',t.disabled=!0;let a=function(e){let n={};return e.forEach((function(e,t){let a=t.split("["),s=a[0],r=a.slice(1).map((function(e){return e.replace("]","")}));n[s]||(0===r.length?n[s]=e:n[s]={});let o=n[s];r.forEach((function(n,t){o[n]||(t===r.length-1?o[n]=e:o[n]={}),o=o[n]}))})),n}(new FormData(this));(function(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+n},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>e)).catch((e=>{throw console.log("Error:",e),e}))})(r,a).then((e=>{201===e.code?(console.log(e),"function"==typeof f&&(f(),console.log("tracked")),window.location.href=decodeURIComponent(e.url)):(t.disabled=!1,t.innerHTML='SUBMIT <i class="fa fa-repeat" aria-hidden="true"></i>',console.log(e.msg),"undefined"!=typeof swal?swal("Whoops... !",e.msg,"error"):alert(e.msg))})).catch((e=>console.error(e)))}));let k=[];document.querySelector('link[href*="w3css"]')||k.push("https://www.w3schools.com/w3css/4/w3.css"),document.querySelector('link[href*="font-awesome"]')||k.push("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"),k.length>0&&k.forEach((function(e){E(e)}));let T=[];document.querySelector('script[src*="sweetalert"]')||T.push("https://unpkg.com/sweetalert/dist/sweetalert.min.js"),T.length>0&&T.forEach((function(e){!function(e){const n=document.createElement("script");n.type="text/javascript",n.src=e,document.head.appendChild(n)}(e)}))}();